<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Shift select</title>
	<link rel="stylesheet" type="text/css" href="../main.css">
	<style type="text/css">

		body {
			padding-top: 40px;
		}

		.fake-thumb {
			height: 100px;
			width: 80%;
			background: #888;
			display: inline-block;
			margin-bottom: 5px;
		}
	</style>
</head>
<body>
	
	<div class="pageWrapper">
		<h1>Shift-click prototype</h1>

		<ul class="lightbox">
			<li class="asset-panel assetList asset">
				<div class="detailWrapper">
					<label class="lightbox-selector">
						<input type="checkbox" class="js-checkbox" name="selectedAssetIds" id="selectAsset15" value="15">
					</label>
					
					<div class="fake-thumb"></div>
					
					<div class="metadataWrapper">
						<ul class="attributeList">
							<li>Lorem ipsum dolor sit amet</li>
						</ul>
					</div>
					
				</div>	<!-- end of detailWrapper -->     
			</li>

			<li class="asset-panel assetList asset">
				<div class="detailWrapper">
					<label class="lightbox-selector">
						<input type="checkbox" class="js-checkbox" name="selectedAssetIds" id="selectAsset15" value="15">
					</label>
					
					<div class="fake-thumb"></div>
					
					<div class="metadataWrapper">
						<ul class="attributeList">
							<li>Lorem ipsum dolor sit amet</li>
						</ul>
					</div>
					
				</div>	<!-- end of detailWrapper -->     
			</li>

			<li class="asset-panel assetList asset">
				<div class="detailWrapper">
					<label class="lightbox-selector">
						<input type="checkbox" class="js-checkbox" name="selectedAssetIds" id="selectAsset15" value="15">
					</label>
					
					<div class="fake-thumb"></div>
					
					<div class="metadataWrapper">
						<ul class="attributeList">
							<li>Lorem ipsum dolor sit amet</li>
						</ul>
					</div>
					
				</div>	<!-- end of detailWrapper -->     
			</li>

			<li class="asset-panel assetList asset">
				<div class="detailWrapper">
					<label class="lightbox-selector">
						<input type="checkbox" class="js-checkbox" name="selectedAssetIds" id="selectAsset15" value="15">
					</label>
					
					<div class="fake-thumb"></div>
					
					<div class="metadataWrapper">
						<ul class="attributeList">
							<li>Lorem ipsum dolor sit amet</li>
						</ul>
					</div>
					
				</div>	<!-- end of detailWrapper -->     
			</li>

			<li class="asset-panel assetList asset">
				<div class="detailWrapper">
					<label class="lightbox-selector">
						<input type="checkbox" class="js-checkbox" name="selectedAssetIds" id="selectAsset15" value="15">
					</label>
					
					<div class="fake-thumb"></div>
					
					<div class="metadataWrapper">
						<ul class="attributeList">
							<li>Lorem ipsum dolor sit amet</li>
						</ul>
					</div>
					
				</div>	<!-- end of detailWrapper -->     
			</li>

			<li class="asset-panel assetList asset">
				<div class="detailWrapper">
					<label class="lightbox-selector">
						<input type="checkbox" class="js-checkbox" name="selectedAssetIds" id="selectAsset15" value="15">
					</label>
					
					<div class="fake-thumb"></div>
					
					<div class="metadataWrapper">
						<ul class="attributeList">
							<li>Lorem ipsum dolor sit amet</li>
						</ul>
					</div>
					
				</div>	<!-- end of detailWrapper -->     
			</li>

			<li class="asset-panel assetList asset">
				<div class="detailWrapper">
					<label class="lightbox-selector">
						<input type="checkbox" class="js-checkbox" name="selectedAssetIds" id="selectAsset15" value="15">
					</label>
					
					<div class="fake-thumb"></div>
					
					<div class="metadataWrapper">
						<ul class="attributeList">
							<li>Lorem ipsum dolor sit amet</li>
						</ul>
					</div>
					
				</div>	<!-- end of detailWrapper -->     
			</li>

			<li class="asset-panel assetList asset">
				<div class="detailWrapper">
					<label class="lightbox-selector">
						<input type="checkbox" class="js-checkbox" name="selectedAssetIds" id="selectAsset15" value="15">
					</label>
					
					<div class="fake-thumb"></div>
					
					<div class="metadataWrapper">
						<ul class="attributeList">
							<li>Lorem ipsum dolor sit amet</li>
						</ul>
					</div>
					
				</div>	<!-- end of detailWrapper -->     
			</li>

			<li class="asset-panel assetList asset">
				<div class="detailWrapper">
					<label class="lightbox-selector">
						<input type="checkbox" class="js-checkbox" name="selectedAssetIds" id="selectAsset15" value="15">
					</label>
					
					<div class="fake-thumb"></div>
					
					<div class="metadataWrapper">
						<ul class="attributeList">
							<li>Lorem ipsum dolor sit amet</li>
						</ul>
					</div>
					
				</div>	<!-- end of detailWrapper -->     
			</li>

			<li class="asset-panel assetList asset">
				<div class="detailWrapper">
					<label class="lightbox-selector">
						<input type="checkbox" class="js-checkbox" name="selectedAssetIds" id="selectAsset15" value="15">
					</label>
					
					<div class="fake-thumb"></div>
					
					<div class="metadataWrapper">
						<ul class="attributeList">
							<li>Lorem ipsum dolor sit amet</li>
						</ul>
					</div>
					
				</div>	<!-- end of detailWrapper -->     
			</li>

			<li class="asset-panel assetList asset">
				<div class="detailWrapper">
					<label class="lightbox-selector">
						<input type="checkbox" class="js-checkbox" name="selectedAssetIds" id="selectAsset15" value="15">
					</label>
					
					<div class="fake-thumb"></div>
					
					<div class="metadataWrapper">
						<ul class="attributeList">
							<li>Lorem ipsum dolor sit amet</li>
						</ul>
					</div>
					
				</div>	<!-- end of detailWrapper -->     
			</li>

			<li class="asset-panel assetList asset">
				<div class="detailWrapper">
					<label class="lightbox-selector">
						<input type="checkbox" class="js-checkbox" name="selectedAssetIds" id="selectAsset15" value="15">
					</label>
					
					<div class="fake-thumb"></div>
					
					<div class="metadataWrapper">
						<ul class="attributeList">
							<li>Lorem ipsum dolor sit amet</li>
						</ul>
					</div>
					
				</div>	<!-- end of detailWrapper -->     
			</li>

			<li class="asset-panel assetList asset">
				<div class="detailWrapper">
					<label class="lightbox-selector">
						<input type="checkbox" class="js-checkbox" name="selectedAssetIds" id="selectAsset15" value="15">
					</label>
					
					<div class="fake-thumb"></div>
					
					<div class="metadataWrapper">
						<ul class="attributeList">
							<li>Lorem ipsum dolor sit amet</li>
						</ul>
					</div>
					
				</div>	<!-- end of detailWrapper -->     
			</li>

			<li class="asset-panel assetList asset">
				<div class="detailWrapper">
					<label class="lightbox-selector">
						<input type="checkbox" class="js-checkbox" name="selectedAssetIds" id="selectAsset15" value="15">
					</label>
					
					<div class="fake-thumb"></div>
					
					<div class="metadataWrapper">
						<ul class="attributeList">
							<li>Lorem ipsum dolor sit amet</li>
						</ul>
					</div>
					
				</div>	<!-- end of detailWrapper -->     
			</li>

			<li class="asset-panel assetList asset">
				<div class="detailWrapper">
					<label class="lightbox-selector">
						<input type="checkbox" class="js-checkbox" name="selectedAssetIds" id="selectAsset15" value="15">
					</label>
					
					<div class="fake-thumb"></div>
					
					<div class="metadataWrapper">
						<ul class="attributeList">
							<li>Lorem ipsum dolor sit amet</li>
						</ul>
					</div>
					
				</div>	<!-- end of detailWrapper -->     
			</li>

		</ul>
	
	</div>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
	<script type="text/javascript">
		var lastChecked = null;
		$(document).ready(function() {
            var $chkboxes = $('.js-checkbox');

            $chkboxes.click(function(e) {
                if(!lastChecked) {
                    lastChecked = this;
                    return;
                }

                if(e.shiftKey) {
                    var start = $chkboxes.index(this);
                    var end = $chkboxes.index(lastChecked);

                    var $affected  = $chkboxes.slice(Math.min(start,end), Math.max(start,end)+ 1);

                    // if the checkbox you just clicked is already checked then assume you are wanting to deselect
                    if(this.checked) {
                    	$affected.prop('checked', true).trigger('change');
                    } else {

                    	$affected.prop('checked', false).trigger('change');
                    }

                    

                }

                lastChecked = this;
            });

            $('.lightbox').on('mousedown', function(e) {
			    if (e.ctrlKey || e.shiftKey) {
			        // For non-IE browsers
			        e.preventDefault();
			    }
            });

            $chkboxes.on('change', function(evt) {
            	$thisCheckbox = $(evt.currentTarget);
            	$thisPanel = $thisCheckbox.parents('.asset-panel');
            	if($thisCheckbox.prop('checked')) {
            		$thisPanel.addClass('selected');
            	} else {
            		$thisPanel.removeClass('selected');
            	}
            });
        });
	</script>

</body>
</html>